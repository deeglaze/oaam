\newcommand{\superscript}[1]{\ensuremath{^{#1}}}
\newcommand{\subscript}[1]{\ensuremath{_{#1}}}
\newcommand{\tuple}[3][\ ]{{\tt #2{#1}}({#3})}

% Values
\newcommand{\clos}[1]{\tuple{clos}{#1}}
\newcommand{\rlos}[1]{\tuple{rlos}{#1}}

% States
\newcommand{\ev}[2][\ ]{\tuple[#1]{ev}{#2}}
\newcommand{\co}[2][\ ]{\tuple[#1]{co}{#2}}
\newcommand{\ap}[2][\ ]{\tuple[#1]{ap}{#2}}
\newcommand{\call}[2][\ ]{\tuple[#1]{call}{#2}}
\newcommand{\ans}[1]{\tuple{ans}{#1}}

% Continuations
\newcommand{\kmt}{{\tt mt}}
\newcommand{\kar}[2][\ ]{\tuple[#1]{ar}{#2}}
\newcommand{\kfn}[2][\ ]{\tuple[#1]{fn}{#2}}
\newcommand{\kif}[2][\ ]{\tuple[#1]{fi}{#2}}
\newcommand{\kuop}[2][\ ]{\tuple[#1]{oa}{#2}}
\newcommand{\kbopa}[2][\ ]{\tuple[#1]{oa1}{#2}}
\newcommand{\kbopb}[2][\ ]{\tuple[#1]{oa2}{#2}}

% Implementation forms
\newcommand{\generator}{{\tt generator}}
\newcommand{\yield}[1]{{\tt yield} #1}

% Syntax
\newcommand{\syntax}[1]{{\tt #1}}
\newcommand{\sapp}[3][\ ]{\tuple[#1]{app}{#2,#3}}
\newcommand{\slam}[3][\ ]{\tuple[#1]{lam}{#2,#3}}
\newcommand{\srec}[4][\ ]{\tuple[#1]{rec}{#2,#3,#4}}
\newcommand{\svar}[2][\ ]{\tuple[#1]{var}{#2}}
\newcommand{\snum}[2][\ ]{\tuple[#1]{num}{#2}}
\newcommand{\sbln}[2][\ ]{\tuple[#1]{bool}{#2}}

\newcommand{\saddr}[1]{\tuple{addr}{#1}}
\newcommand{\superposition}[1]{\tuple{sp}{#1}}

% Use delayed lookups or superposition, respectively. Paper has both
% implementations using this macro, so we can switch between them
% agilely if we need to.

\newcommand{\spchoice}[2]{#1}

\newcommand{\sif}[4][\ ]{\tuple[#1]{if}{#2,#3,#4}}
\newcommand{\sop}[2][\ ]{\tuple[#1]{op}{#2}}
\newcommand{\sopu}[3][\ ]{\tuple[#1]{op}{#2,#3}}
\newcommand{\sopb}[4][\ ]{\tuple[#1]{op2}{#2,#3,#4}}
\newcommand{\strue}{{\tt tt}}
\newcommand{\sfalse}{{\tt ff}}
\newcommand{\saddone}{{\tt add1}}
\newcommand{\ssubone}{{\tt sub1}}
\newcommand{\szerohuh}{\syntax{zero?}}
\newcommand{\szero}{\syntax{0}}
\newcommand{\slit}[2][\ ]{\tuple[#1]{lit}{#2}}

\newcommand{\sNum}{\syntax{Z}}

% Metavariables
\newcommand{\maddr}{a}
\newcommand{\maddralt}{b}
\newcommand{\mvar}{x}
\newcommand{\mvarf}{f}
\newcommand{\mexp}{e}
\newcommand{\mexpi}[1]{e_{#1}}
\newcommand{\mexpf}{f}
\newcommand{\menv}{\rho}
\newcommand{\mkont}{\kappa}
\newcommand{\msto}{\sigma}
\newcommand{\mop}{o}
\newcommand{\mval}{v}
\newcommand{\mvalstack}{V}
\newcommand{\mnum}{z}
\newcommand{\mbln}{b}
\newcommand{\mvalx}[1]{#1}
\newcommand{\machstep}{\mathbin{\longmapsto}}
\newcommand{\multimachstep}{\longmapsto\!\!\!\!\!\rightarrow}
\newcommand{\mlit}{l}
\newcommand{\mstate}{\varsigma}
\newcommand{\mcomp}{k}
\newcommand{\mcompi}[1]{\mcomp_{#1}}
\newcommand{\interpdelta}{\Delta}
\newcommand{\msdiff}{\xi}

\newcommand{\compile}[1]{\llbracket#1\rrbracket}
\newcommand{\kpush}[2][\ ]{\lfloor #2 \rfloor{#1}}

\newcommand{\mlab}{{\ell}}
\newcommand{\mcntr}{{t}}
\newcommand{\mtcntr}{{t_0}}

\newcommand{\mtlst}{\epsilon}
\newcommand{\cons}[2]{#1 {\tt :} #2}
\newcommand{\ttuple}[2]{(#1, #2)} % two-tuple
\newcommand{\Set}{\mathcal{P}}

\newcommand{\lift}{\mathit{lift}}
\newcommand{\eval}{\mathit{eval}}
\newcommand{\traces}{\mathit{traces}}
\newcommand{\alloc}{\mathit{alloc}}
\newcommand{\allockont}{\mathit{allockont}}
\newcommand{\tick}{\mathit{tick}}
\newcommand{\replay}{\mathit{replay}}
\newcommand{\states}{\mathit{cs}}
\newcommand{\concat}{\mathit{concat}}
\newcommand{\append}{\mathit{append}}
\newcommand{\appendall}{\mathit{appendall}}
\newcommand{\step}{\mathit{step}}
\newcommand{\wn}{\mathit{wn}}
\newcommand{\fmerge}{\mathit{merge}}
\newcommand{\force}{\mathit{force}}
\newcommand{\bind}{\mathit{bind}}
\newcommand{\push}{\mathit{push}}
\newcommand{\stash}{\mathit{stash}}
\newcommand{\inject}{\mathit{inject}}
\newcommand{\lookup}{\mathit{lookup}}
\newcommand{\update}{\mathit{update}}
\newcommand{\setof}[1]{\{#1\}}

% Notations for proofs
\newcommand{\maddrx}[1]{#1}
\newcommand{\mastate}{\hat{\mstate}}
\newcommand{\masto}{\hat{\msto}}
\newcommand{\maenv}{\hat{\menv}}
\newcommand{\makont}{\hat{\mkont}}
\newcommand{\maval}{\hat{\mval}}
\newcommand{\CompState}{\compile{\State}}
\newcommand{\cmachstep}{\mathbin{\compile{\machstep}}}
\newcommand{\camachstep}{\mathbin{\compile{\widehat{\machstep}}}}
\newcommand{\lmachstep}{\mathbin{\longmapsto_{{\mathcal L}}}}
\newcommand{\dmachstep}{\mathbin{\longmapsto_{\mathit{\msto\msdiff}}}}
\newcommand{\tmachstep}{\mathbin{\longmapsto_{T}}}
\newcommand{\damachstep}{\mathbin{\widehat{\longmapsto}_{\mathit{\msto\msdiff}}}}
\newcommand{\nmachstep}{\mathbin{\longmapsto_n}}
\newcommand{\dcompile}[1]{\Delta\compile{#1}}
\newcommand{\mstor}{s}
\newcommand{\updatedp}{\mathit{updated?}}
\newcommand{\joinp}{\mathit{join?}}
\newcommand{\hd}{\mathit{hd}}
\newcommand{\replayall}{\forall\mathit{replay}}
\newcommand{\lfp}[1]{\mathbf{lfp}(#1)}
\newcommand{\reachable}[1]{\mathit{reachable}(#1)}
\newcommand{\nw}{\mathit{nw}}
\newcommand{\commit}{\mathit{commit}}
\newcommand{\commitev}{\mathit{commitev}}
\newcommand{\prep}{\mathit{prep}}
\newcommand{\replaychange}{\mathit{replay}\Delta}
\newcommand{\replaychangeall}{\forall\mathit{replay}\Delta}
\newcommand{\deceq}{\mathbin{\overset{?}{=}}}
\newcommand{\Label}{\mathit{Label}}
\newcommand{\Counter}{\mathit{Time}}
\newcommand{\System}{\mathit{System}}
\newcommand{\Compiled}{\mathit{Compiled}}
\newcommand{\erankt}{\mathit{erankt}}
\newcommand{\erankl}{\mathit{erankl}}
\newcommand{\sort}{\mathit{sort}}
\newcommand{\sorted}{\mathit{sorted}}
\newcommand{\map}{\mathit{map}}

% Spaces
\newcommand{\Store}{\mathit{Store}}
\newcommand{\StoreDelta}{\mathit{Store\Delta}}
\newcommand{\Addr}{\mathit{Addr}}
\newcommand{\Value}{\mathit{Value}}
\newcommand{\Var}{\mathit{Var}}
\newcommand{\Env}{\mathit{Env}}
\newcommand{\Expr}{\mathit{Expr}}
\newcommand{\Kont}{\mathit{Kont}}
\newcommand{\State}{\mathit{State}}
\newcommand{\Storeable}{\mathit{Storeable}}
\newcommand{\Timestamp}{{\mathbb N}} %{\mathit{Time}}
\newcommand{\Valstack}{\mathit{ValStack}}
\newcommand{\Traces}{\mathit{Traces}}
\newcommand{\Boolean}{\mathit{Boolean}}

\newcommand{\changep}{\Delta\mbox{{\tt ?}}}

\newcommand{\Church}{Vardoulakis and Shivers}
